<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <!--tells browser how to control dimensions and scaling-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--suggested theme colour for page and surrounding  ui. Baby pink.-->
    <meta name="theme-color" content="#feeaf1">
    <title>T. Catt</title>

    <!--TODO: change to real icons/favicons when provided-->
    <link rel="apple-touch-icon" sizes="180x180" href="#">
    <link rel="icon" type="image/png" sizes="32x32" href="#">
    <link rel="icon" type="image/png" sizes="16x16" href="#">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono|Sometype+Mono">

    <!--stylesheet(s)-->
    <link href="styles.css" rel="stylesheet"/>

    <!--jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!--Alpine js: allows us to make hover selections in real time with the project button components-->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js"></script>
</head>
<body>

    <div id="header-container"></div>
    <script>
        $(function(){
            $("#header-container").load("components/header.html");
        })
    </script>

     <!--EISNER NOMINATED-->
     <section class="blurb-box">
        <div class="blurb-heading">
            <img src="/media/icons/tabs/icon_bullet.svg">
            <h5>Publications</h5>
            <img src="/media/icons/tabs/icon_bullet.svg">
        </div>
        <div class="blurb">
            <p>
                Short introduction to the publications page,
                in your own words (if desired).
            </p>
        </div>
    </section>

    <!--TOP HIGHLIGHT-->
    <div id="highlight-container" x-data="highlightData">
        <template x-for="hl in highlightData">
            <div class="highlight-card">
                <div class="highlight-image-frame">
                    <img :src="`/media/highlight-card/${hl.image}`">
                </div>
                <div class="highlight-info-frame">
                    <div class="highlight-tab-header">
                        <div class="highlight-tab-inner">
                            <h6 x-text="hl.title"></h6>
                            <img src="/media/highlight-card/icon_highlightright.svg">
                        </div>
                    </div>
                    <div class="highlight-blurb-frame">
                        <p class="highlight-blurb" x-text="hl.blurb">
                        </p>
                    </div>
                    
                    <div class="highlight-btn-row">
                        <template x-for="btn in hl.buttons" :key="index">
                            <a class="menu-btn" id="small" x-bind:href="btn.link" target="_blank" rel="noopener noreferrer">
                                <div class="icon-frame" id="small">
                                    <img :src="`/media/icons/menu/${btn.icon}`">
                                </div>
                                <p x-text="btn.text"></p>
                            </a>
                        </template>
                    </div>
                </div>
            </div>
        </template>
    </div>

    <!--GENERATED PUBLICATION SECTIONS-->
    <div x-data="pubData">
        <template x-for="pub in pubData">
            <div>  
                <h1 x-text="pub.name"></h1>
                <h1 x-text="pub.skills"></h1>
            <template x-for="work in pub.works" :key="index">
                <div>
                    <p x-text="work.title"></p>
                    <p x-text="work.role"></p>
                </div>
            </template>
            </div>
        </template>
    </div>

    <div x-data="pubData">
        <section class="tabbed-section">
            <div class="section-tab">
                <div class="section-tab-inner">
                    <img src="/media/icons/tabs/icon_highlights.svg">
                    <h5>Highlights</h5>
                    <img src="/media/icons/tabs/icon_bullet.svg">
                </div>
            </div>
            <div id="highlight-container" x-data="highlightData">
                <template x-for="hl in highlightData">
                    <div class="highlight-card">
                        <div class="highlight-image-frame">
                            <img :src="`/media/highlight-card/${hl.image}`">
                        </div>
                        <div class="highlight-info-frame">
                            <div class="highlight-tab-header">
                                <div class="highlight-tab-inner">
                                    <h6 x-text="hl.title"></h6>
                                    <img src="/media/highlight-card/icon_highlightright.svg">
                                </div>
                            </div>
                            <div class="highlight-blurb-frame">
                                <p class="highlight-blurb" x-text="hl.blurb">
                                </p>
                            </div>
                            
                            <div class="highlight-btn-row">
                                <template x-for="btn in hl.buttons" :key="index">
                                    <a class="menu-btn" id="small" x-bind:href="btn.link" target="_blank" rel="noopener noreferrer">
                                        <div class="icon-frame" id="small">
                                            <img :src="`/media/icons/menu/${btn.icon}`">
                                        </div>
                                        <p x-text="btn.text"></p>
                                    </a>
                                </template>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
        </section>
    </div>

    <!--ALPINE DATA INSERTION-->
    <script>
        document.addEventListener('alpine:init', () => {
            const highlightData = [
                {
                    title: "Highlighted Project",
                    blurb: "This is a short description of the project. Typically, this may be a few sentences long. One, two or three sentences just about.",
                    image: "breecrunched.jpg",
                    buttons: {
                        btn1: {
                            link: "https://www.youtube.com/c/AtomicShrimp/videos",
                            icon: "icon_user.svg",
                            text: "Buy"
                        },
                        btn2: {
                            link: "#",
                            icon: "icon_user.svg",
                            text: "Read"
                        },
                        btn3: {
                            link: "#",
                            icon: "icon_user.svg",
                            text: "More"
                        }
                    }
                }
            ]
            const pubData = [
                {    
                    skills: "List of skills you used working on this.",
                    name: "DC Thomson",
                    works: {
                        work1: {
                            title: "Animals and You",
                            role: "Role"
                        },
                        work2: {
                            title: "Unicorn Universe",
                            role: "Role"
                        }
                    }
                },
            ]
            Alpine.data('highlightData', () => ({
                get highlightData() {return highlightData}
            }))
            Alpine.data('pubData', () => ({
                get pubData() {return pubData}
            }))
        })
    </script>

</body>
</html>